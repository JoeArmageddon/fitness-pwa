"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/ai/parse-food/route";
exports.ids = ["app/api/ai/parse-food/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fparse-food%2Froute&page=%2Fapi%2Fai%2Fparse-food%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fparse-food%2Froute.ts&appDir=C%3A%5CUsers%5Ctakia%5CDesktop%5CProjects%5Cfitness-pwa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ctakia%5CDesktop%5CProjects%5Cfitness-pwa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fparse-food%2Froute&page=%2Fapi%2Fai%2Fparse-food%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fparse-food%2Froute.ts&appDir=C%3A%5CUsers%5Ctakia%5CDesktop%5CProjects%5Cfitness-pwa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ctakia%5CDesktop%5CProjects%5Cfitness-pwa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_takia_Desktop_Projects_fitness_pwa_app_api_ai_parse_food_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/ai/parse-food/route.ts */ \"(rsc)/./app/api/ai/parse-food/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/ai/parse-food/route\",\n        pathname: \"/api/ai/parse-food\",\n        filename: \"route\",\n        bundlePath: \"app/api/ai/parse-food/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\takia\\\\Desktop\\\\Projects\\\\fitness-pwa\\\\app\\\\api\\\\ai\\\\parse-food\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_takia_Desktop_Projects_fitness_pwa_app_api_ai_parse_food_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/ai/parse-food/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhaSUyRnBhcnNlLWZvb2QlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFpJTJGcGFyc2UtZm9vZCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFpJTJGcGFyc2UtZm9vZCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUN0YWtpYSU1Q0Rlc2t0b3AlNUNQcm9qZWN0cyU1Q2ZpdG5lc3MtcHdhJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUN0YWtpYSU1Q0Rlc2t0b3AlNUNQcm9qZWN0cyU1Q2ZpdG5lc3MtcHdhJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNvQztBQUNqSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtcHdhLz81ZjJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXHRha2lhXFxcXERlc2t0b3BcXFxcUHJvamVjdHNcXFxcZml0bmVzcy1wd2FcXFxcYXBwXFxcXGFwaVxcXFxhaVxcXFxwYXJzZS1mb29kXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9haS9wYXJzZS1mb29kL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWkvcGFyc2UtZm9vZFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWkvcGFyc2UtZm9vZC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXHRha2lhXFxcXERlc2t0b3BcXFxcUHJvamVjdHNcXFxcZml0bmVzcy1wd2FcXFxcYXBwXFxcXGFwaVxcXFxhaVxcXFxwYXJzZS1mb29kXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9haS9wYXJzZS1mb29kL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fparse-food%2Froute&page=%2Fapi%2Fai%2Fparse-food%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fparse-food%2Froute.ts&appDir=C%3A%5CUsers%5Ctakia%5CDesktop%5CProjects%5Cfitness-pwa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ctakia%5CDesktop%5CProjects%5Cfitness-pwa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/ai/parse-food/route.ts":
/*!****************************************!*\
  !*** ./app/api/ai/parse-food/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\nconst GEMINI_KEY = process.env.GEMINI_API_KEY;\nconst GROQ_KEY = process.env.GROQ_API_KEY;\n// ── Compact prompt — short enough to stay within free tier ─\nconst PROMPT = (text)=>`Parse this food into JSON macros. Rules:\r\n- Multi-word names = single food (\"honey chili potato\" = 1 item)\r\n- Respect exact weights if given (\"100g\" means quantity_g:100)\r\n- Scale macros correctly: value = (per100g × quantity) / 100\r\n- Return ONLY raw JSON, no markdown, no explanation\r\n\r\nReturn this exact structure:\r\n{\"items\":[{\"name\":\"food name\",\"quantity_g\":100,\"calories\":185,\"protein\":22,\"carbs\":2,\"fat\":10}],\"total_calories\":185,\"total_protein\":22,\"total_carbs\":2,\"total_fat\":10}\r\n\r\nFood: \"${text}\"`;\nfunction extractJSON(raw) {\n    if (!raw) return null;\n    const cleaned = raw.replace(/^```json\\s*/im, \"\").replace(/^```\\s*/im, \"\").replace(/```\\s*$/im, \"\").trim();\n    try {\n        return JSON.parse(cleaned);\n    } catch  {}\n    const m = cleaned.match(/\\{[\\s\\S]*\\}/);\n    if (m) {\n        try {\n            return JSON.parse(m[0]);\n        } catch  {}\n    }\n    return null;\n}\nfunction isValid(d) {\n    return d && Array.isArray(d.items) && d.items.length > 0 && d.items.every((i)=>typeof i.name === \"string\" && typeof i.calories === \"number\" && i.calories > 0) && typeof d.total_calories === \"number\" && d.total_calories > 0;\n}\nfunction rounded(d) {\n    return {\n        ...d,\n        total_calories: Math.round(d.total_calories),\n        total_protein: Math.round(d.total_protein * 10) / 10,\n        total_carbs: Math.round(d.total_carbs * 10) / 10,\n        total_fat: Math.round(d.total_fat * 10) / 10,\n        items: d.items.map((i)=>({\n                ...i,\n                calories: Math.round(i.calories),\n                protein: Math.round(i.protein * 10) / 10,\n                carbs: Math.round(i.carbs * 10) / 10,\n                fat: Math.round(i.fat * 10) / 10\n            }))\n    };\n}\nasync function callGemini(text) {\n    if (!GEMINI_KEY) return {\n        data: null,\n        error: \"GEMINI_API_KEY not set\"\n    };\n    try {\n        // Use flash-lite — higher free quota than flash\n        const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-lite:generateContent?key=${GEMINI_KEY}`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                contents: [\n                    {\n                        parts: [\n                            {\n                                text: PROMPT(text)\n                            }\n                        ]\n                    }\n                ],\n                generationConfig: {\n                    temperature: 0.0,\n                    maxOutputTokens: 512\n                }\n            })\n        });\n        const body = await res.json();\n        if (!res.ok) return {\n            data: null,\n            error: `Gemini ${res.status}: ${body?.error?.message ?? JSON.stringify(body).slice(0, 150)}`\n        };\n        const raw = body?.candidates?.[0]?.content?.parts?.[0]?.text;\n        if (!raw) return {\n            data: null,\n            error: \"Gemini empty response\"\n        };\n        const parsed = extractJSON(raw);\n        if (!isValid(parsed)) return {\n            data: null,\n            error: `Gemini bad JSON: ${raw.slice(0, 150)}`\n        };\n        return {\n            data: rounded(parsed)\n        };\n    } catch (e) {\n        return {\n            data: null,\n            error: `Gemini: ${e.message}`\n        };\n    }\n}\nasync function callGroq(text) {\n    if (!GROQ_KEY) return {\n        data: null,\n        error: \"GROQ_API_KEY not set\"\n    };\n    try {\n        // No response_format constraint — just ask for JSON in the message\n        const res = await fetch(\"https://api.groq.com/openai/v1/chat/completions\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${GROQ_KEY}`\n            },\n            body: JSON.stringify({\n                model: \"llama-3.3-70b-versatile\",\n                messages: [\n                    {\n                        role: \"user\",\n                        content: PROMPT(text)\n                    }\n                ],\n                temperature: 0.0,\n                max_tokens: 512\n            })\n        });\n        const body = await res.json();\n        if (!res.ok) return {\n            data: null,\n            error: `Groq ${res.status}: ${body?.error?.message ?? JSON.stringify(body).slice(0, 150)}`\n        };\n        const raw = body?.choices?.[0]?.message?.content;\n        if (!raw) return {\n            data: null,\n            error: \"Groq empty response\"\n        };\n        const parsed = extractJSON(raw);\n        if (!isValid(parsed)) return {\n            data: null,\n            error: `Groq bad JSON: ${raw.slice(0, 150)}`\n        };\n        return {\n            data: rounded(parsed)\n        };\n    } catch (e) {\n        return {\n            data: null,\n            error: `Groq: ${e.message}`\n        };\n    }\n}\nasync function POST(req) {\n    let text = \"\";\n    try {\n        text = (await req.json()).text ?? \"\";\n    } catch  {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Invalid request\"\n        }, {\n            status: 400\n        });\n    }\n    if (!text.trim()) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        error: \"No food text provided\"\n    }, {\n        status: 400\n    });\n    const errors = [];\n    if (GEMINI_KEY) {\n        const r = await callGemini(text);\n        if (r.data) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ...r.data,\n            source: \"gemini\"\n        });\n        errors.push(r.error);\n    } else {\n        errors.push(\"GEMINI_API_KEY not configured\");\n    }\n    if (GROQ_KEY) {\n        const r = await callGroq(text);\n        if (r.data) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ...r.data,\n            source: \"groq\"\n        });\n        errors.push(r.error);\n    } else {\n        errors.push(\"GROQ_API_KEY not configured\");\n    }\n    const noKeys = !GEMINI_KEY && !GROQ_KEY;\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        error: noKeys ? \"No AI API keys found. Add GEMINI_API_KEY to .env.local.\" : `All AI providers failed: ${errors.join(\" | \")}`,\n        noKeys,\n        setup: noKeys ? [\n            \"1. Go to aistudio.google.com/app/apikey\",\n            '2. Click \"Create API Key\" (free)',\n            \"3. Add to .env.local: GEMINI_API_KEY=AIza...your-key\",\n            \"4. Restart: npm run dev\"\n        ] : null,\n        errors\n    }, {\n        status: 503\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxPQUFPYixxREFBWUEsQ0FBQ3FELElBQUksQ0FBQztRQUFFWixPQUFPO0lBQXdCLEdBQUc7UUFBRWMsUUFBUTtJQUFJO0lBRTdGLE1BQU1nQixTQUFtQixFQUFFO0lBRTNCLElBQUl0RSxZQUFZO1FBQ2QsTUFBTXVFLElBQUksTUFBTWpDLFdBQVcvQjtRQUMzQixJQUFJZ0UsRUFBRWhDLElBQUksRUFBRSxPQUFPeEMscURBQVlBLENBQUNxRCxJQUFJLENBQUM7WUFBRSxHQUFHbUIsRUFBRWhDLElBQUk7WUFBRWlDLFFBQVE7UUFBUztRQUNuRUYsT0FBT0csSUFBSSxDQUFDRixFQUFFL0IsS0FBSztJQUNyQixPQUFPO1FBQ0w4QixPQUFPRyxJQUFJLENBQUM7SUFDZDtJQUVBLElBQUlyRSxVQUFVO1FBQ1osTUFBTW1FLElBQUksTUFBTVYsU0FBU3REO1FBQ3pCLElBQUlnRSxFQUFFaEMsSUFBSSxFQUFFLE9BQU94QyxxREFBWUEsQ0FBQ3FELElBQUksQ0FBQztZQUFFLEdBQUdtQixFQUFFaEMsSUFBSTtZQUFFaUMsUUFBUTtRQUFPO1FBQ2pFRixPQUFPRyxJQUFJLENBQUNGLEVBQUUvQixLQUFLO0lBQ3JCLE9BQU87UUFDTDhCLE9BQU9HLElBQUksQ0FBQztJQUNkO0lBRUEsTUFBTUMsU0FBUyxDQUFDMUUsY0FBYyxDQUFDSTtJQUMvQixPQUFPTCxxREFBWUEsQ0FBQ3FELElBQUksQ0FBQztRQUN2QlosT0FBT2tDLFNBQ0gsNERBQ0EsQ0FBQyx5QkFBeUIsRUFBRUosT0FBT0ssSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUNwREQ7UUFDQUUsT0FBT0YsU0FBUztZQUNkO1lBQ0E7WUFDQTtZQUNBO1NBQ0QsR0FBRztRQUNKSjtJQUNGLEdBQUc7UUFBRWhCLFFBQVE7SUFBSTtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdG5lc3MtcHdhLy4vYXBwL2FwaS9haS9wYXJzZS1mb29kL3JvdXRlLnRzPzkxYjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuXHJcbmNvbnN0IEdFTUlOSV9LRVkgPSBwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWTtcclxuY29uc3QgR1JPUV9LRVkgICA9IHByb2Nlc3MuZW52LkdST1FfQVBJX0tFWTtcclxuXHJcbi8vIOKUgOKUgCBDb21wYWN0IHByb21wdCDigJQgc2hvcnQgZW5vdWdoIHRvIHN0YXkgd2l0aGluIGZyZWUgdGllciDilIBcclxuY29uc3QgUFJPTVBUID0gKHRleHQ6IHN0cmluZykgPT4gYFBhcnNlIHRoaXMgZm9vZCBpbnRvIEpTT04gbWFjcm9zLiBSdWxlczpcclxuLSBNdWx0aS13b3JkIG5hbWVzID0gc2luZ2xlIGZvb2QgKFwiaG9uZXkgY2hpbGkgcG90YXRvXCIgPSAxIGl0ZW0pXHJcbi0gUmVzcGVjdCBleGFjdCB3ZWlnaHRzIGlmIGdpdmVuIChcIjEwMGdcIiBtZWFucyBxdWFudGl0eV9nOjEwMClcclxuLSBTY2FsZSBtYWNyb3MgY29ycmVjdGx5OiB2YWx1ZSA9IChwZXIxMDBnIMOXIHF1YW50aXR5KSAvIDEwMFxyXG4tIFJldHVybiBPTkxZIHJhdyBKU09OLCBubyBtYXJrZG93biwgbm8gZXhwbGFuYXRpb25cclxuXHJcblJldHVybiB0aGlzIGV4YWN0IHN0cnVjdHVyZTpcclxue1wiaXRlbXNcIjpbe1wibmFtZVwiOlwiZm9vZCBuYW1lXCIsXCJxdWFudGl0eV9nXCI6MTAwLFwiY2Fsb3JpZXNcIjoxODUsXCJwcm90ZWluXCI6MjIsXCJjYXJic1wiOjIsXCJmYXRcIjoxMH1dLFwidG90YWxfY2Fsb3JpZXNcIjoxODUsXCJ0b3RhbF9wcm90ZWluXCI6MjIsXCJ0b3RhbF9jYXJic1wiOjIsXCJ0b3RhbF9mYXRcIjoxMH1cclxuXHJcbkZvb2Q6IFwiJHt0ZXh0fVwiYDtcclxuXHJcbmZ1bmN0aW9uIGV4dHJhY3RKU09OKHJhdzogc3RyaW5nKTogYW55IHwgbnVsbCB7XHJcbiAgaWYgKCFyYXcpIHJldHVybiBudWxsO1xyXG4gIGNvbnN0IGNsZWFuZWQgPSByYXcucmVwbGFjZSgvXmBgYGpzb25cXHMqL2ltLCcnKS5yZXBsYWNlKC9eYGBgXFxzKi9pbSwnJykucmVwbGFjZSgvYGBgXFxzKiQvaW0sJycpLnRyaW0oKTtcclxuICB0cnkgeyByZXR1cm4gSlNPTi5wYXJzZShjbGVhbmVkKTsgfSBjYXRjaCB7fVxyXG4gIGNvbnN0IG0gPSBjbGVhbmVkLm1hdGNoKC9cXHtbXFxzXFxTXSpcXH0vKTtcclxuICBpZiAobSkgeyB0cnkgeyByZXR1cm4gSlNPTi5wYXJzZShtWzBdKTsgfSBjYXRjaCB7fSB9XHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzVmFsaWQoZDogYW55KTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIGQgJiYgQXJyYXkuaXNBcnJheShkLml0ZW1zKSAmJiBkLml0ZW1zLmxlbmd0aCA+IDAgJiZcclxuICAgIGQuaXRlbXMuZXZlcnkoKGk6IGFueSkgPT4gdHlwZW9mIGkubmFtZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGkuY2Fsb3JpZXMgPT09ICdudW1iZXInICYmIGkuY2Fsb3JpZXMgPiAwKSAmJlxyXG4gICAgdHlwZW9mIGQudG90YWxfY2Fsb3JpZXMgPT09ICdudW1iZXInICYmIGQudG90YWxfY2Fsb3JpZXMgPiAwO1xyXG59XHJcblxyXG5mdW5jdGlvbiByb3VuZGVkKGQ6IGFueSk6IGFueSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLmQsXHJcbiAgICB0b3RhbF9jYWxvcmllczogTWF0aC5yb3VuZChkLnRvdGFsX2NhbG9yaWVzKSxcclxuICAgIHRvdGFsX3Byb3RlaW46ICBNYXRoLnJvdW5kKGQudG90YWxfcHJvdGVpbiAqIDEwKSAvIDEwLFxyXG4gICAgdG90YWxfY2FyYnM6ICAgIE1hdGgucm91bmQoZC50b3RhbF9jYXJicyAqIDEwKSAvIDEwLFxyXG4gICAgdG90YWxfZmF0OiAgICAgIE1hdGgucm91bmQoZC50b3RhbF9mYXQgKiAxMCkgLyAxMCxcclxuICAgIGl0ZW1zOiBkLml0ZW1zLm1hcCgoaTogYW55KSA9PiAoe1xyXG4gICAgICAuLi5pLFxyXG4gICAgICBjYWxvcmllczogTWF0aC5yb3VuZChpLmNhbG9yaWVzKSxcclxuICAgICAgcHJvdGVpbjogIE1hdGgucm91bmQoaS5wcm90ZWluICogMTApIC8gMTAsXHJcbiAgICAgIGNhcmJzOiAgICBNYXRoLnJvdW5kKGkuY2FyYnMgKiAxMCkgLyAxMCxcclxuICAgICAgZmF0OiAgICAgIE1hdGgucm91bmQoaS5mYXQgKiAxMCkgLyAxMCxcclxuICAgIH0pKSxcclxuICB9O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjYWxsR2VtaW5pKHRleHQ6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBhbnk7IGVycm9yPzogc3RyaW5nIH0+IHtcclxuICBpZiAoIUdFTUlOSV9LRVkpIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnR0VNSU5JX0FQSV9LRVkgbm90IHNldCcgfTtcclxuICB0cnkge1xyXG4gICAgLy8gVXNlIGZsYXNoLWxpdGUg4oCUIGhpZ2hlciBmcmVlIHF1b3RhIHRoYW4gZmxhc2hcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy9nZW1pbmktMi4wLWZsYXNoLWxpdGU6Z2VuZXJhdGVDb250ZW50P2tleT0ke0dFTUlOSV9LRVl9YCxcclxuICAgICAge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGNvbnRlbnRzOiBbeyBwYXJ0czogW3sgdGV4dDogUFJPTVBUKHRleHQpIH1dIH1dLFxyXG4gICAgICAgICAgZ2VuZXJhdGlvbkNvbmZpZzogeyB0ZW1wZXJhdHVyZTogMC4wLCBtYXhPdXRwdXRUb2tlbnM6IDUxMiB9LFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICBpZiAoIXJlcy5vaykgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGBHZW1pbmkgJHtyZXMuc3RhdHVzfTogJHtib2R5Py5lcnJvcj8ubWVzc2FnZSA/PyBKU09OLnN0cmluZ2lmeShib2R5KS5zbGljZSgwLDE1MCl9YCB9O1xyXG4gICAgY29uc3QgcmF3ID0gYm9keT8uY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0cz8uWzBdPy50ZXh0O1xyXG4gICAgaWYgKCFyYXcpIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnR2VtaW5pIGVtcHR5IHJlc3BvbnNlJyB9O1xyXG4gICAgY29uc3QgcGFyc2VkID0gZXh0cmFjdEpTT04ocmF3KTtcclxuICAgIGlmICghaXNWYWxpZChwYXJzZWQpKSByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogYEdlbWluaSBiYWQgSlNPTjogJHtyYXcuc2xpY2UoMCwxNTApfWAgfTtcclxuICAgIHJldHVybiB7IGRhdGE6IHJvdW5kZWQocGFyc2VkKSB9O1xyXG4gIH0gY2F0Y2ggKGU6IGFueSkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGBHZW1pbmk6ICR7ZS5tZXNzYWdlfWAgfTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNhbGxHcm9xKHRleHQ6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBhbnk7IGVycm9yPzogc3RyaW5nIH0+IHtcclxuICBpZiAoIUdST1FfS0VZKSByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogJ0dST1FfQVBJX0tFWSBub3Qgc2V0JyB9O1xyXG4gIHRyeSB7XHJcbiAgICAvLyBObyByZXNwb25zZV9mb3JtYXQgY29uc3RyYWludCDigJQganVzdCBhc2sgZm9yIEpTT04gaW4gdGhlIG1lc3NhZ2VcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5ncm9xLmNvbS9vcGVuYWkvdjEvY2hhdC9jb21wbGV0aW9ucycsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke0dST1FfS0VZfWAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG1vZGVsOiAnbGxhbWEtMy4zLTcwYi12ZXJzYXRpbGUnLFxyXG4gICAgICAgIG1lc3NhZ2VzOiBbXHJcbiAgICAgICAgICB7IHJvbGU6ICd1c2VyJywgY29udGVudDogUFJPTVBUKHRleHQpIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgICB0ZW1wZXJhdHVyZTogMC4wLFxyXG4gICAgICAgIG1heF90b2tlbnM6IDUxMixcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgaWYgKCFyZXMub2spIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBgR3JvcSAke3Jlcy5zdGF0dXN9OiAke2JvZHk/LmVycm9yPy5tZXNzYWdlID8/IEpTT04uc3RyaW5naWZ5KGJvZHkpLnNsaWNlKDAsMTUwKX1gIH07XHJcbiAgICBjb25zdCByYXcgPSBib2R5Py5jaG9pY2VzPy5bMF0/Lm1lc3NhZ2U/LmNvbnRlbnQ7XHJcbiAgICBpZiAoIXJhdykgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdHcm9xIGVtcHR5IHJlc3BvbnNlJyB9O1xyXG4gICAgY29uc3QgcGFyc2VkID0gZXh0cmFjdEpTT04ocmF3KTtcclxuICAgIGlmICghaXNWYWxpZChwYXJzZWQpKSByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogYEdyb3EgYmFkIEpTT046ICR7cmF3LnNsaWNlKDAsMTUwKX1gIH07XHJcbiAgICByZXR1cm4geyBkYXRhOiByb3VuZGVkKHBhcnNlZCkgfTtcclxuICB9IGNhdGNoIChlOiBhbnkpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBgR3JvcTogJHtlLm1lc3NhZ2V9YCB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBOZXh0UmVxdWVzdCkge1xyXG4gIGxldCB0ZXh0ID0gJyc7XHJcbiAgdHJ5IHsgdGV4dCA9IChhd2FpdCByZXEuanNvbigpKS50ZXh0ID8/ICcnOyB9XHJcbiAgY2F0Y2ggeyByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgcmVxdWVzdCcgfSwgeyBzdGF0dXM6IDQwMCB9KTsgfVxyXG4gIGlmICghdGV4dC50cmltKCkpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTm8gZm9vZCB0ZXh0IHByb3ZpZGVkJyB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG5cclxuICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIGlmIChHRU1JTklfS0VZKSB7XHJcbiAgICBjb25zdCByID0gYXdhaXQgY2FsbEdlbWluaSh0ZXh0KTtcclxuICAgIGlmIChyLmRhdGEpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IC4uLnIuZGF0YSwgc291cmNlOiAnZ2VtaW5pJyB9KTtcclxuICAgIGVycm9ycy5wdXNoKHIuZXJyb3IhKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZXJyb3JzLnB1c2goJ0dFTUlOSV9BUElfS0VZIG5vdCBjb25maWd1cmVkJyk7XHJcbiAgfVxyXG5cclxuICBpZiAoR1JPUV9LRVkpIHtcclxuICAgIGNvbnN0IHIgPSBhd2FpdCBjYWxsR3JvcSh0ZXh0KTtcclxuICAgIGlmIChyLmRhdGEpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IC4uLnIuZGF0YSwgc291cmNlOiAnZ3JvcScgfSk7XHJcbiAgICBlcnJvcnMucHVzaChyLmVycm9yISk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGVycm9ycy5wdXNoKCdHUk9RX0FQSV9LRVkgbm90IGNvbmZpZ3VyZWQnKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG5vS2V5cyA9ICFHRU1JTklfS0VZICYmICFHUk9RX0tFWTtcclxuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgZXJyb3I6IG5vS2V5c1xyXG4gICAgICA/ICdObyBBSSBBUEkga2V5cyBmb3VuZC4gQWRkIEdFTUlOSV9BUElfS0VZIHRvIC5lbnYubG9jYWwuJ1xyXG4gICAgICA6IGBBbGwgQUkgcHJvdmlkZXJzIGZhaWxlZDogJHtlcnJvcnMuam9pbignIHwgJyl9YCxcclxuICAgIG5vS2V5cyxcclxuICAgIHNldHVwOiBub0tleXMgPyBbXHJcbiAgICAgICcxLiBHbyB0byBhaXN0dWRpby5nb29nbGUuY29tL2FwcC9hcGlrZXknLFxyXG4gICAgICAnMi4gQ2xpY2sgXCJDcmVhdGUgQVBJIEtleVwiIChmcmVlKScsXHJcbiAgICAgICczLiBBZGQgdG8gLmVudi5sb2NhbDogR0VNSU5JX0FQSV9LRVk9QUl6YS4uLnlvdXIta2V5JyxcclxuICAgICAgJzQuIFJlc3RhcnQ6IG5wbSBydW4gZGV2JyxcclxuICAgIF0gOiBudWxsLFxyXG4gICAgZXJyb3JzLFxyXG4gIH0sIHsgc3RhdHVzOiA1MDMgfSk7XHJcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiR0VNSU5JX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJHRU1JTklfQVBJX0tFWSIsIkdST1FfS0VZIiwiR1JPUV9BUElfS0VZIiwiUFJPTVBUIiwidGV4dCIsImV4dHJhY3RKU09OIiwicmF3IiwiY2xlYW5lZCIsInJlcGxhY2UiLCJ0cmltIiwiSlNPTiIsInBhcnNlIiwibSIsIm1hdGNoIiwiaXNWYWxpZCIsImQiLCJBcnJheSIsImlzQXJyYXkiLCJpdGVtcyIsImxlbmd0aCIsImV2ZXJ5IiwiaSIsIm5hbWUiLCJjYWxvcmllcyIsInRvdGFsX2NhbG9yaWVzIiwicm91bmRlZCIsIk1hdGgiLCJyb3VuZCIsInRvdGFsX3Byb3RlaW4iLCJ0b3RhbF9jYXJicyIsInRvdGFsX2ZhdCIsIm1hcCIsInByb3RlaW4iLCJjYXJicyIsImZhdCIsImNhbGxHZW1pbmkiLCJkYXRhIiwiZXJyb3IiLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5Iiwic3RyaW5naWZ5IiwiY29udGVudHMiLCJwYXJ0cyIsImdlbmVyYXRpb25Db25maWciLCJ0ZW1wZXJhdHVyZSIsIm1heE91dHB1dFRva2VucyIsImpzb24iLCJvayIsInN0YXR1cyIsIm1lc3NhZ2UiLCJzbGljZSIsImNhbmRpZGF0ZXMiLCJjb250ZW50IiwicGFyc2VkIiwiZSIsImNhbGxHcm9xIiwiQXV0aG9yaXphdGlvbiIsIm1vZGVsIiwibWVzc2FnZXMiLCJyb2xlIiwibWF4X3Rva2VucyIsImNob2ljZXMiLCJQT1NUIiwicmVxIiwiZXJyb3JzIiwiciIsInNvdXJjZSIsInB1c2giLCJub0tleXMiLCJqb2luIiwic2V0dXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/ai/parse-food/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Fparse-food%2Froute&page=%2Fapi%2Fai%2Fparse-food%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Fparse-food%2Froute.ts&appDir=C%3A%5CUsers%5Ctakia%5CDesktop%5CProjects%5Cfitness-pwa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ctakia%5CDesktop%5CProjects%5Cfitness-pwa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();